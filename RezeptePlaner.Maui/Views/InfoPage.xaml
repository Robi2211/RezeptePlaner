<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:RezeptePlaner.Maui.ViewModels"
             xmlns:controls="clr-namespace:RezeptePlaner.Maui.Controls"
             x:Class="RezeptePlaner.Maui.Views.InfoPage"
             x:DataType="viewmodels:InfoViewModel"
             Title="Info"
             BackgroundColor="{StaticResource Background}">

    <Grid RowDefinitions="Auto,*">
        <!-- Navigation Header -->
        <controls:NavigationHeader Grid.Row="0" CurrentPage="" />

        <ScrollView Grid.Row="1">
            <Grid Padding="20" RowDefinitions="Auto,*">
            
            <!-- Page Header -->
            <VerticalStackLayout Grid.Row="0" Margin="0,0,0,30" HorizontalOptions="Center">
                
                <!-- App Logo -->
                <Frame BackgroundColor="{StaticResource Surface}"
                       BorderColor="{StaticResource Primary}"
                       CornerRadius="60"
                       WidthRequest="120"
                       HeightRequest="120"
                       Padding="0"
                       HorizontalOptions="Center">
                    <Label Text="ðŸ³"
                           FontSize="60"
                           HorizontalOptions="Center"
                           VerticalOptions="Center" />
                </Frame>
                
                <Label Text="{Binding AppName}" 
                       TextColor="{StaticResource Primary}"
                       FontSize="36"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       Margin="0,20,0,0" />
                       
                <Label Text="{Binding AppVersion, StringFormat='Version {0}'}"
                       TextColor="{StaticResource ForegroundMuted}"
                       FontSize="16"
                       HorizontalOptions="Center"
                       Margin="0,5,0,0" />
            </VerticalStackLayout>

            <VerticalStackLayout Grid.Row="1" Spacing="20">
                
                <!-- App Description Card -->
                <Frame Style="{StaticResource CardFrame}">
                    <VerticalStackLayout Spacing="15">
                        <Label Text="Ãœber CookMate" 
                               Style="{StaticResource SectionTitle}" />
                        <Label Text="{Binding AppDescription}"
                               TextColor="{StaticResource Foreground}"
                               FontSize="14"
                               LineHeight="1.5" />
                        <Label Text="{Binding DeveloperInfo}"
                               TextColor="{StaticResource ForegroundMuted}"
                               FontSize="14"
                               HorizontalOptions="Center"
                               Margin="0,10,0,0" />
                    </VerticalStackLayout>
                </Frame>

                <!-- Features Card -->
                <Frame Style="{StaticResource CardFrame}">
                    <VerticalStackLayout Spacing="15">
                        <Label Text="Funktionen" 
                               Style="{StaticResource SectionTitle}" />
                        
                        <CollectionView ItemsSource="{Binding Features}"
                                        HeightRequest="400">
                            <CollectionView.ItemsLayout>
                                <GridItemsLayout Orientation="Vertical"
                                                 Span="2"
                                                 HorizontalItemSpacing="15"
                                                 VerticalItemSpacing="15" />
                            </CollectionView.ItemsLayout>
                            <CollectionView.ItemTemplate>
                                <DataTemplate x:DataType="viewmodels:FeatureItem">
                                    <Frame BackgroundColor="{StaticResource Muted}"
                                           BorderColor="{StaticResource Border}"
                                           CornerRadius="10"
                                           Padding="15">
                                        <VerticalStackLayout Spacing="8">
                                            <Label Text="{Binding Icon}"
                                                   FontSize="32"
                                                   HorizontalOptions="Center" />
                                            <Label Text="{Binding Title}"
                                                   TextColor="{StaticResource Primary}"
                                                   FontSize="14"
                                                   FontAttributes="Bold"
                                                   HorizontalOptions="Center" />
                                            <Label Text="{Binding Description}"
                                                   TextColor="{StaticResource ForegroundMuted}"
                                                   FontSize="12"
                                                   HorizontalTextAlignment="Center" />
                                        </VerticalStackLayout>
                                    </Frame>
                                </DataTemplate>
                            </CollectionView.ItemTemplate>
                        </CollectionView>
                    </VerticalStackLayout>
                </Frame>

                <!-- Contact Card -->
                <Frame Style="{StaticResource CardFrame}">
                    <VerticalStackLayout Spacing="15">
                        <Label Text="Kontakt" 
                               Style="{StaticResource SectionTitle}" />
                        
                        <HorizontalStackLayout Spacing="15" HorizontalOptions="Center">
                            <Button Text="ðŸ“§ E-Mail senden"
                                    Command="{Binding SendEmailCommand}"
                                    Style="{StaticResource PrimaryButton}" />
                            <Button Text="ðŸŒ Website besuchen"
                                    Command="{Binding OpenWebsiteCommand}"
                                    Style="{StaticResource SecondaryButton}" />
                        </HorizontalStackLayout>
                        
                        <Label Text="{Binding ContactEmail, StringFormat='E-Mail: {0}'}"
                               TextColor="{StaticResource ForegroundMuted}"
                               FontSize="14"
                               HorizontalOptions="Center"
                               Margin="0,10,0,0" />
                    </VerticalStackLayout>
                </Frame>

                <!-- Legal Card -->
                <Frame Style="{StaticResource CardFrame}" Margin="0,0,0,40">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Rechtliches" 
                               Style="{StaticResource SectionTitle}" />
                        
                        <Label Text="{Binding Copyright}"
                               TextColor="{StaticResource ForegroundMuted}"
                               FontSize="12"
                               HorizontalOptions="Center" />
                        
                        <Label Text="Diese Anwendung wurde mit .NET MAUI entwickelt."
                               TextColor="{StaticResource ForegroundMuted}"
                               FontSize="12"
                               HorizontalOptions="Center" />
                        
                        <HorizontalStackLayout Spacing="20" HorizontalOptions="Center" Margin="0,10,0,0">
                            <Label Text="Datenschutz"
                                   TextColor="{StaticResource Primary}"
                                   TextDecorations="Underline"
                                   FontSize="12" />
                            <Label Text="Nutzungsbedingungen"
                                   TextColor="{StaticResource Primary}"
                                   TextDecorations="Underline"
                                   FontSize="12" />
                            <Label Text="Lizenzen"
                                   TextColor="{StaticResource Primary}"
                                   TextDecorations="Underline"
                                   FontSize="12" />
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Frame>
            </VerticalStackLayout>
        </Grid>
    </ScrollView>
    </Grid>
</ContentPage>
